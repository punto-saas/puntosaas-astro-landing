---
import { Icon } from 'astro-icon/components';
const {
  href = "#",
  target = undefined,
  rel = undefined,
  class: className = "",
  children = "Aplicar",
  ...rest
} = Astro.props;
const isAplicar = typeof children === 'string' && children.toLowerCase().includes('aplicar');
const isContactar = typeof children === 'string' && children.toLowerCase().includes('contactar');
const finalHref = isContactar ? 'mailto:info@puntosaas.com' : href;
---
{isAplicar ? (
  <a
    href={finalHref}
    role="button"
    tabindex="0"
    class={className}
    onclick="event.preventDefault(); window.dispatchEvent(new CustomEvent('openPuntoSaasForm'));"
    onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();window.dispatchEvent(new CustomEvent('openPuntoSaasForm'));}"
    {...rest}
  >
    <Icon name="bx:send" class="text-[var(--color-accent)]" />
    {children}
  </a>
) : (
  <a
    href={finalHref}
    target={target}
    rel={rel}
    class={className}
    {...rest}
  >
    <Icon name="bx:send" class="text-[var(--color-accent)]" />
    {children}
  </a>
)}
